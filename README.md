# go-learning
the note for learning golang

## 线程
### 内核态线程
### 用户态线程（协程）
#### 用户态线程是绑定在内核态线程上的，CPU并不知道用户态线程的存在，只知道它运行的是内核态线程（Linux的PCB进程控制块）
### 映射关系
#### N:1（N个协程绑定一个线程）
##### 优点：协程在用户态线程即完成切换，不会陷入到内核态，切换非常轻量快速
##### 缺点：一个进程的所有协程都绑定在一个线程上，某个程序用不了硬件的多核加速能力；一旦某个协程阻塞，造成线程阻塞，本进程的其他协程都无法执行了，根本就没有并发能力了
#### 1:1（一个协程绑定一个线程，最容易实现）
##### 优点：协程的调度都由CPU完成，不存在N:1的缺点
##### 缺点：协程的创建、删除和切换的代价都由CPU完成，有点浪费
#### M:N关系（M个协程绑定N个线程）
##### 优点：是N:1和1:1类型的结合，克服了前两种模型的缺点
##### 缺点：实现最复杂
### 协程跟线程的区别
#### 线程由CPU调度，是抢占式的；协程由用户态调度，是协作式的，一个协程让出CPU后，才执行下一个协程

## goroutine调度
## GMP
### G: goroutine协程
### P: Processor处理器
### M: Thread线程
